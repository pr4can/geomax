(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(e){const t=document.querySelector(".header__logo"),i=document.querySelectorAll(".text-animation");let n=document.querySelector(".header__btn"),s=n.querySelector(".btn__text"),o=document.querySelector(".header__menu");const a=document.querySelector(".slider-cursor"),r={x:window.innerWidth/2,y:window.innerHeight/2},l={x:r.x,y:r.y},c=gsap.quickSetter(a,"x","px"),d=gsap.quickSetter(a,"y","px"),p=$("[data-num]");let u=!1;$(".btn").on("mouseenter",(function(e){var t=$(this).offset(),i=e.pageX-t.left,n=e.pageY-t.top;$(this).find(".btn__circle").css({top:n,left:i})})).on("mouseout",(function(e){var t=$(this).offset(),i=e.pageX-t.left,n=e.pageY-t.top;$(this).find(".btn__circle").css({top:n,left:i})})),$(".services-slide, .project-steps__slide").on("mouseenter",(function(e){var t=$(this).offset(),i=e.pageX-t.left,n=e.pageY-t.top;$(this).find(".circle").css({top:n,left:i})})).on("mouseout",(function(e){var t=$(this).offset(),i=e.pageX-t.left,n=e.pageY-t.top;$(this).find(".circle").css({top:n,left:i})}));const f=new Swiper(".banner-images__slider",{loop:!0,effect:"fade",speed:1e3,fadeEffect:{crossFade:!0}});new Swiper(".banner-names__slider",{loop:!0,effect:"fade",speed:1e3,fadeEffect:{crossFade:!0},autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".banner-names__pagination",type:"bullets"},navigation:{nextEl:".banner-names__arrows .arrows__item--next"},thumbs:{swiper:f}}),window.addEventListener("scroll",g),window.addEventListener("scroll",(function(){window.pageYOffset>100?t.classList.add("header__logo--hide"):t.classList.remove("header__logo--hide")})),g(),window.innerWidth<=767&&new Swiper(".services__slider",{loop:!1,slidesPerView:1,spaceBetween:30,speed:500,autoplay:{delay:4e3}}),window.innerWidth<=991&&new Swiper(".project-steps",{loop:!1,slidesPerView:1,spaceBetween:30,speed:500,autoplay:{delay:4e3}}),new Swiper(".projects__slider",{loop:!1,slidesPerView:1,spaceBetween:50,speed:500,autoplay:{delay:4e3}}),window.addEventListener("pointermove",(e=>{l.x=e.x,l.y=e.y})),gsap.set(".slider-cursor",{xPercent:-50,yPercent:-50}),gsap.ticker.add((()=>{const e=1-Math.pow(0,gsap.ticker.deltaRatio());r.x+=(l.x-r.x)*e,r.y+=(l.y-r.y)*e,c(r.x),d(r.y)})),$("[data-cursor]").on("mousemove",(function(){a.classList.add("slider-cursor--active")})).on("mouseout",(function(){a.classList.remove("slider-cursor--active")})),new Swiper(".clients__slider",{loop:!0,slidesPerView:6,spaceBetween:50,speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".clients__pagination",type:"bullets"},navigation:{nextEl:".clients .clients__arrow--next",prevEl:".clients .clients__arrow--prev"},breakpoints:{0:{slidesPerView:1},575:{slidesPerView:2},992:{slidesPerView:4},1600:{slidesPerView:6}}}),new Swiper(".mail__slider",{loop:!1,slidesPerView:3,spaceBetween:50,speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1},992:{slidesPerView:2},1600:{slidesPerView:3}}}),new Swiper(".other-project__slider",{loop:!1,slidesPerView:3,spaceBetween:50,speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1},992:{slidesPerView:2},1600:{slidesPerView:3}}}),n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.classList.contains("btn--active")?(n.classList.remove("btn--active"),s.innerHTML="Меню",o.classList.remove("menu--open"),t.classList.remove("header__logo--show"),document.documentElement.classList.remove("html--noscroll")):(n.classList.add("btn--active"),s.innerHTML="Закрыть",o.classList.add("menu--open"),t.classList.add("header__logo--show"),document.documentElement.classList.add("html--noscroll"))})),$(".vacancies-offer__head").on("click",(function(){let e=$(this).parent();$(e).hasClass("vacancies-offer--active")?$(e).removeClass("vacancies-offer--active"):$(e).addClass("vacancies-offer--active"),$(e).find(".vacancies-offer__body").slideToggle()})),new Swiper(".project-slider",{loop:!0,slidesPerView:1,spaceBetween:50,speed:500,autoplay:{delay:4e3,disableOnInteraction:!0},pagination:{el:".project-slider__pagination",type:"bullets"}}),$(window).scroll((function(){if($(".about-company-numbers").length>0){var e=$(".about-company-numbers").offset().top-3*$(".about-company-numbers").height();$(this).scrollTop()>e&&!u&&(function(e){e.each((function(e,t){var i=$(t).data("text")?" "+$(t).data("text"):"";$({Counter:0}).animate({Counter:$(t).data("num")},{duration:1e3,easing:"swing",step:function(){$(t).find("span").text(Math.floor(this.Counter).toLocaleString()+i)},done:function(){$(t).find("span").text(Math.floor(this.Counter).toLocaleString()+i)}})}))}(p),u=!0)}})),new Swiper(".justification-scheme",{loop:!1,slidesPerView:3,spaceBetween:20,speed:500,autoplay:{delay:4e3},breakpoints:{0:{slidesPerView:1},1200:{slidesPerView:3}}}),new Swiper(".justification-advantages",{loop:!1,slidesPerView:3,spaceBetween:40,speed:500,autoplay:{delay:4e3},breakpoints:{0:{slidesPerView:1},1600:{slidesPerView:3}}});let w=document.querySelectorAll(".justification-sidebar__item");w&&w.forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();let i=document.querySelector(e.getAttribute("href")).offsetTop;scroll({top:i,behavior:"smooth"})}))}));const m=document.querySelectorAll("[data-section]"),_=document.querySelectorAll("[data-sidebar-tab]");function g(){for(let e=0;e<i.length;e++){const t=i[e],n=t.offsetHeight,s=h(t).top,o=4;let a=window.innerHeight-window.innerHeight/o;n>window.innerHeight&&(a=window.innerHeight-window.innerHeight/o),scrollY>s-a&&scrollY<s+n?t.classList.add("text-animation--active"):t.classList.remove("text-animation--active")}}function h(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}window.addEventListener("scroll",(function(e){const{scrollY:t}=e.currentTarget;let i;for(let e=m.length;e>0;e--){const{offsetTop:n}=m[e-1];if(t>=n-200){i=e-1;break}}i>=0&&(_.forEach((e=>e.classList.remove("justification-sidebar__item--active"))),_[i].classList.add("justification-sidebar__item--active"))})),$(".footer__name").on("click",(function(e){e.preventDefault();let t=$(this).parent();$(t).find(".footer__menu").slideToggle()}))}))})();